if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}String.prototype.replaceAll=function(b,a){return this.split(b).join(a)};$.extend({getUrlVars:function(){var d=[],c;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);if(c[1]){d[c[0]]=decodeURIComponent(c[1].replace("#",""))}}return d},getUrlVar:function(a){return $.getUrlVars()[a]}});$.fn.extend({enable:function(){this.removeAttr("disabled");return this},disable:function(){this.attr("disabled","disabled");return this},showLoading:function(){if(this[0]){var b=$("div[data-id="+this.attr("id")+"]");if(!b[0]){this.after("<div class='loading' data-id='"+this.attr("id")+"'></div><span class='loading' data-id='"+this.attr("id")+"'></span>");b=$("div[data-id="+this.attr("id")+"]")}b.css({left:this.offset().left,top:this.offset().top,width:this.outerWidth(),height:this.outerHeight()}).show();if(this.outerWidth()>0){var a=b.next();
a.css({left:this.offset().left+(this.outerWidth()-a.outerWidth())/2,top:this.offset().top+(this.outerHeight()-a.outerHeight())/2}).show()}}return this},hideLoading:function(){if(this[0]){$("body").find("div[data-id="+this.attr("id")+"]").hide().next().hide()}return this},hideDialogue:function(c){var a=$(this).closest("div.dialogue");a.prev("div.dialogueCover").remove();a.remove();if(c){var b=$("body").attr("id");if(window["Event_pageload_"+b]){window["Event_pageload_"+b]()}}}});(function(a){a.event.special.destroyed={remove:function(b){if(b.handler){b.handler()}}}})(jQuery);(function(a){a.fn.caret=function(h){var g=this[0];var d=g.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(d){g.focus();var c=window.getSelection().getRangeAt(0),b=c.cloneRange();b.selectNodeContents(g);b.setEnd(c.endContainer,c.endOffset);return b.toString().length}return g.selectionStart}if(document.selection){g.focus();if(d){var c=document.selection.createRange(),b=document.body.createTextRange();
b.moveToElementText(g);b.setEndPoint("EndToEnd",c);return b.text.length}var h=0,e=g.createTextRange(),b=document.selection.createRange().duplicate(),f=b.getBookmark();e.moveToBookmark(f);while(e.moveStart("character",-1)!==0){h++}return h}return 0}if(h==-1){h=this[d?"text":"val"]().length}if(window.getSelection){if(d){g.focus();window.getSelection().collapse(g.firstChild,h)}else{g.setSelectionRange(h,h)}}else{if(document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(g);e.moveStart("character",h);e.collapse(true);e.select()}}if(!d){g.focus()}return h}})(jQuery);function textareaOverride(b){var a=$(b.target);if(a.is("textarea")&&b.keyCode==9){var d=a.caret();var c=a.val();a.val(c.substr(0,d)+"\t"+c.substr(d));a.caret(d+1);b.stopPropagation();return false}}jQuery(function(a){var b=[8,9,13,33,34,35,36,37,38,39,40,46];a("textarea[maxlength]").on("keypress",function(f){var c=a(this),d=c.attr("maxlength"),e=a.data(this,"keycode");if(d&&d>0){return(c.val().length<d||a.inArray(e,b)!==-1)
}}).on("keydown",function(c){a.data(this,"keycode",c.keyCode||c.which)})});jQuery(function(a){a("textarea.autoheight").each(function(){a.data(this,"height",a(this).height())}).on("keypress",function(b){while(a(this).outerHeight()<this.scrollHeight+parseFloat(a(this).css("borderTopWidth"))+parseFloat(a(this).css("borderBottomWidth"))){a(this).height(a(this).height()+1)}}).on("blur",function(b){a(this).height(a.data(this,"height"));while(a(this).outerHeight()<this.scrollHeight+parseFloat(a(this).css("borderTopWidth"))+parseFloat(a(this).css("borderBottomWidth"))){a(this).height(a(this).height()+1)}})});if(window._rapidmobile){console.log("Rapid Mobile detected");_rapidmobile.savePage=function(){$("input").each(function(){$(this).attr("value",$(this).val())});$("textarea").each(function(){$(this).html($(this).val())});$("head").find("script[src*='//maps.gstatic.com']").remove();$("head").find("script[src*='googleapis.com/']").filter(function(b){return b>0}).remove();var a=$("html").html();
_rapidmobile.savePageToDevice(a)};$(document).ready(function(){});var ajax=$.ajax;$.ajax=function(a){if(a.data){a.url+="&data="+encodeURIComponent(a.data);a.data=null}var b=a.success;a.success=function(e,f,d){if(d.responseJSON){if(d.responseJSON.error){var c=d.responseJSON.error;switch(c.status){case (401):_rapidmobile.showMessage(c.responseText);return false;default:a.error(c,c.status,c.responseText);return false}}}b(e,f,d)};ajax(a)}}else{var ajax=$.ajax;$.ajax=function(b,c){var a=b.error;b.error=function(f,i,h){if(f.status==401){var d="login.jsp";if(window.location.href.indexOf("/~?a=")>-1){var g=$.getUrlVar("a");var e=$.getUrlVar("v");if(g){d+="?requestApp="+g+(e?"&requestVersion="+e:"")}}window.location=d}else{a(f,i,h)}};ajax(b,c)}}function showControlValidation(c,b){var d=$("#"+c);d.addClass("validation");if(b){var a=d.next("div.validation")[0];if(a){$(a).html(b)}else{d.after("<div class='validation'>"+b+"</div>")}}}function hideControlValidation(a){var b=$("#"+a);b.removeClass("validation");
b.next("div.validation").remove()}function makeDataObject(d,g){if(d!=null&&d!==undefined){if(d.rows&&d.fields&&!(g&&d[g])){return d}var f=[];var n=[];var a=[];if(g&&d[g]&&!$.isFunction(d[g])){d=d[g]}if($.isArray(d)){for(var e in d){var l=d[e];var m=[];if($.isPlainObject(l)){var h=0;for(var c in l){if(a[h]){if(a[h]!=c){h=-1;for(var b in a){if(c==a[b]){h=b;break}}if(h==-1){a.push(c);f.push(c);h=f.length-1}}}else{a.push(c);f.push(c);h=f.length-1}m[h]=l[c];if(h<f.length-1){h++}}}else{if(e==0){f.push(g)}m=[l]}n.push(m)}}else{var m=[];if($.isPlainObject(d)){for(var e in d){f.push(e);m.push(d[e])}}else{f.push(g);m.push(d)}n.push(m)}d={fields:f,rows:n}}return d}function mergeDataObjects(f,c,l,b){var z=null;if(f){f=makeDataObject(f);if(c){c=makeDataObject(c);switch(l){case"row":var p=[];for(var u in f.fields){p.push(f.fields[u])}for(var u in c.fields){var h=false;for(var t in p){if(c.fields[u]==p[t]){h=true;break}}if(!h){p.push(c.fields[u])}}z={};z.fields=p;z.rows=[];var n=c.rows.length;if(f.rows.length>n){n=f.rows.length
}for(var u=0;u<n;u++){var g=[];for(var t in p){var q=null;if(u<c.rows.length){for(var r in c.fields){if(p[t]==c.fields[r]){q=c.rows[u][r];break}}}if(u<f.rows.length&&q==null){for(var r in f.fields){if(p[t]==f.fields[r]){q=f.rows[u][r];break}}}g.push(q)}z.rows.push(g)}break;case"child":var d={};var y=0;for(var u in f.fields){for(var t in c.fields){if(f.fields[u].toLowerCase()==c.fields[t].toLowerCase()){d[u]=t;y++}}}var p=c.fields;if(y>0){f.fields.push(b);for(var u in f.rows){var m=false;var w=f.rows[u];for(var t in c.rows){var s=c.rows[t];var a=0;for(var r in d){if(w[r]==s[d[r]]){a++}}if(a==y){m=true;var e;if(f.rows[u].length<f.fields.length){e={fields:p,rows:[]}}else{e=f.rows[u][f.fields.length-1]}var g=c.rows[t];e.rows.push(g);w.push(e)}}if(!m){w.push(null)}}}else{var x=-1;for(var u in f.fields){if(b.toLowerCase()==f.fields[u].toLowerCase()){x=u;break}}if(x<0){f.fields.push(b);f.rows[0].push(c)}else{f.rows[0][x]=c}}z=f;break;case"search":var x=0;if(b){for(var u in c.fields){if(b.toLowerCase()==c.fields[u].toLowerCase()){x=u;
break}}}var q=f.rows[0][0];if(q){q=q.toLowerCase()}var z={fields:c.fields,rows:[]};for(var u in c.rows){var o=c.rows[u][x];if(typeof o!=="undefined"){if(o.toLowerCase().indexOf(q)>-1){z.rows.push(c.rows[u])}}}break}}else{z=f}}else{z=c}return z}function toPixels(a){if(a){if(a.indexOf("em")==a.length-2){var b=parseFloat($("body").css("font-size"));return(b*parseFloat(a))}else{return parseFloat(a)}}else{return 0}};