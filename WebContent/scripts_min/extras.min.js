if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}String.prototype.replaceAll=function(b,a){return this.split(b).join(a)};(function(a){a.each(["show","hide"],function(b,d){var c=a.fn[d];a.fn[d]=function(){c.apply(this,arguments);this.trigger(d);return this}})})(jQuery);$.extend({getUrlVars:function(){var d=[],c;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);if(c[1]){d[c[0]]=decodeURIComponent(c[1].replace("#",""))}}return d},getUrlVar:function(a){return $.getUrlVars()[a]}});$.fn.extend({enable:function(){this.removeAttr("disabled");return this},disable:function(){this.attr("disabled","disabled");return this},showLoading:function(){if(this[0]&&this.is(":visible")){var b=$("div[data-id="+this.attr("id")+"]");if(!b[0]){this.after("<div class='loading' data-id='"+this.attr("id")+"'></div><span class='loading' data-id='"+this.attr("id")+"'></span>");
b=$("div[data-id="+this.attr("id")+"]")}b.css({left:this.offset().left,top:this.offset().top,width:this.outerWidth(),height:this.outerHeight()}).show();if(this.outerWidth()>0){var a=b.next();a.css({left:this.offset().left+(this.outerWidth()-a.outerWidth())/2,top:this.offset().top+(this.outerHeight()-a.outerHeight())/2}).show()}}return this},hideLoading:function(){if(this[0]){$("body").find("div[data-id="+this.attr("id")+"]").hide().next().hide()}return this},hideDialogue:function(c){var a=$(this).closest("div.dialogue");a.prev("div.dialogueCover").remove();a.remove();if(c){var b=$("body").attr("id");if(window["Event_pageload_"+b]){window["Event_pageload_"+b]()}}return this},hideAllDialogues:function(b){$("div.dialogue").remove();$("div.dialogueCover").remove();if(b){var a=$("body").attr("id");if(window["Event_pageload_"+a]){window["Event_pageload_"+a]()}}return this},showError:function(){if(server){alert(server.responseText||message)}return this},focus:function(){if(this[0]){this[0].focus();
if($("body").css("visibility")=="hidden"||this.closest("div.dialogue").css("visibility")=="hidden"||this.closest("div.dialogue").css("display")=="none"){this.attr("data-focus","true")}}return this}});(function(a){a.event.special.destroyed={remove:function(b){if(b.handler){b.handler()}}}})(jQuery);(function(a){a.fn.caret=function(h){var g=this[0];var d=g.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(d){g.focus();var c=window.getSelection().getRangeAt(0),b=c.cloneRange();b.selectNodeContents(g);b.setEnd(c.endContainer,c.endOffset);return b.toString().length}return g.selectionStart}if(document.selection){g.focus();if(d){var c=document.selection.createRange(),b=document.body.createTextRange();b.moveToElementText(g);b.setEndPoint("EndToEnd",c);return b.text.length}var h=0,e=g.createTextRange(),b=document.selection.createRange().duplicate(),f=b.getBookmark();e.moveToBookmark(f);while(e.moveStart("character",-1)!==0){h++}return h}return 0}if(h==-1){h=this[d?"text":"val"]().length
}if(window.getSelection){if(d){g.focus();window.getSelection().collapse(g.firstChild,h)}else{g.setSelectionRange(h,h)}}else{if(document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(g);e.moveStart("character",h);e.collapse(true);e.select()}}if(!d){g.focus()}return h}})(jQuery);function textareaOverride(b){var a=$(b.target);if(a.is("textarea")&&b.keyCode==9){var d=a.caret();var c=a.val();a.val(c.substr(0,d)+"\t"+c.substr(d));a.caret(d+1);b.stopPropagation();return false}}function textarea_maxlength(){var a=[8,9,13,33,34,35,36,37,38,39,40,46];$(this).on("keypress",function(e){var b=$(this),c=b.attr("maxlength"),d=$.data(this,"keycode");if(c&&c>0){return(b.val().length<c||$.inArray(d,a)!==-1)}}).on("keydown",function(b){$.data(this,"keycode",b.keyCode||b.which)})}function textarea_autoheight(){var a=$(this);a.attr("data-height",a.height());a.on("keypress",function(b){while(a.outerHeight()<this.scrollHeight+parseFloat(a.css("borderTopWidth"))+parseFloat(a.css("borderBottomWidth"))){a.height(a.height()+1)
}}).on("blur",function(b){a.height(a.attr("data-height"));while(a.outerHeight()<this.scrollHeight+parseFloat(a.css("borderTopWidth"))+parseFloat(a.css("borderBottomWidth"))){a.height(a.height()+1)}})}jQuery(function(a){a("textarea[maxlength]").each(textarea_maxlength);a("textarea.autoheight").each(textarea_autoheight)});if(window._rapidmobile){console.log("Rapid Mobile detected");_rapidmobile.savePage=function(){$("input").each(function(){$(this).attr("value",$(this).val())});$("textarea").each(function(){$(this).html($(this).val())});$("head").find("script[src*='//maps.gstatic.com']").remove();$("head").find("script[src*='googleapis.com/']").filter(function(b){return b>0}).remove();var a=$("html").html();_rapidmobile.savePageToDevice(a)};$(document).ready(function(){});var ajax=$.ajax;$.ajax=function(a){if(a.data){a.url+="&data="+encodeURIComponent(a.data);a.data=null}var b=a.success;a.success=function(e,f,d){if(d.responseJSON){if(d.responseJSON.error){var c=d.responseJSON.error;switch(c.status){case (401):_rapidmobile.showMessage(c.responseText);
return false;default:a.error(c,c.status,c.responseText);return false}}}b(e,f,d)};ajax(a)}}else{var ajax=$.ajax;$.ajax=function(b,c){var a=b.error;b.error=function(f,i,h){if(f.status==401){var d="login.jsp";if(window.location.href.indexOf("/~?a=")>-1){var g=$.getUrlVar("a");var e=$.getUrlVar("v");if(g){d+="?requestApp="+g+(e?"&requestVersion="+e:"")}}window.location=d}else{a(f,i,h)}};ajax(b,c)}}function showControlValidation(c,b){var d=$("#"+c);d.addClass("validation");if(b){var a=d.next("div.validation")[0];if(a){$(a).html(b)}else{d.after("<div class='validation'>"+b+"</div>")}}}function hideControlValidation(a){var b=$("#"+a);b.removeClass("validation");b.next("div.validation").remove()}function makeDataObject(d,g){if(d!=null&&d!==undefined){if(d.rows&&d.fields&&!(g&&d[g])){return d}var f=[];var n=[];var a=[];if(g&&d[g]&&!$.isFunction(d[g])){d=d[g]}if($.isArray(d)){for(var e in d){var l=d[e];var m=[];if($.isPlainObject(l)){var h=0;for(var c in l){if(a[h]){if(a[h]!=c){h=-1;for(var b in a){if(c==a[b]){h=b;
break}}if(h==-1){a.push(c);f.push(c);h=f.length-1}}}else{a.push(c);f.push(c);h=f.length-1}m[h]=l[c];if(h<f.length-1){h++}}}else{if(e==0){f.push(g)}m=[l]}n.push(m)}}else{var m=[];if($.isPlainObject(d)){for(var e in d){f.push(e);m.push(d[e])}}else{f.push(g);m.push(d)}n.push(m)}d={fields:f,rows:n}}return d}function mergeDataObjects(l,d,o,c,a){var D=null;if(l){l=makeDataObject(l);if(d){d=makeDataObject(d);switch(o){case"append":case"row":var s=[];for(var z in l.fields){s.push(l.fields[z])}for(var z in d.fields){var n=false;for(var x in s){if(d.fields[z]&&s[x]&&d.fields[z].toLowerCase()==s[x].toLowerCase()){n=true;break}}if(!n){s.push(d.fields[z])}}D={};D.fields=s;if(o=="append"){D.rows=l.rows;for(var z=0;z<d.rows.length;z++){var m=[];for(var x in s){var t=null;for(var u in d.fields){if(s[x]&&d.fields[u]&&s[x].toLowerCase()==d.fields[u].toLowerCase()){t=d.rows[z][u];break}}m.push(t)}D.rows.push(m)}}else{D.rows=[];var q=d.rows.length;if(l.rows.length>q){q=l.rows.length}for(var z=0;z<q;z++){var m=[];
for(var x in s){var t=null;if(z<d.rows.length){for(var u in d.fields){if(s[x]&&d.fields[u]&&s[x].toLowerCase()==d.fields[u].toLowerCase()){t=d.rows[z][u];break}}}if(z<l.rows.length&&t==null){for(var u in l.fields){if(s[x]&&l.fields[u]&&s[x].toLowerCase()==l.fields[u].toLowerCase()){t=l.rows[z][u];break}}}m.push(t)}D.rows.push(m)}}break;case"child":var e={};var C=0;for(var z in l.fields){for(var x in d.fields){if(l.fields[z]&&d.fields[x]&&l.fields[z].toLowerCase()==d.fields[x].toLowerCase()){e[z]=x;C++}}}var s=d.fields;if(C>0){l.fields.push(c);for(var z in l.rows){var p=false;var y=l.rows[z];for(var x in d.rows){var w=d.rows[x];var b=0;for(var u in e){if(y[u]==w[e[u]]){b++}}if(b==C){p=true;var h;if(l.rows[z].length<l.fields.length){h={fields:s,rows:[]}}else{h=l.rows[z][l.fields.length-1]}var m=d.rows[x];h.rows.push(m);y.push(h)}}if(!p){y.push(null)}}}else{if(l.rows&&l.rows.length>0){var B=-1;for(var z in l.fields){if(c&&l.fields[z]&&c.toLowerCase()==l.fields[z].toLowerCase()){B=z;break}}if(B<0){l.fields.push(c);
l.rows[0].push(d)}else{l.rows[0][B]=d}}}D=l;break;case"search":var g=[];if(c){var s=c.split(",");for(var z in s){var A=s[z].trim().toLowerCase();for(var z in d.fields){if(d.fields[z]&&d.fields[z].toLowerCase()==A){g.push(z)}}}}var D={fields:d.fields,rows:[]};var t=l.rows[0][0];if(t&&g.length>0){t=t.toLowerCase();for(var z in d.rows){for(var x in g){var r=d.rows[z][g[x]];if(typeof r!=="undefined"){if(r.toLowerCase().indexOf(t)>-1){D.rows.push(d.rows[z]);break}}}if(D.rows.length>=a){break}}}break}}else{D=l}}else{D=d}return D}function toPixels(a){if(a){if(a.indexOf("em")==a.length-2){var b=parseFloat($("body").css("font-size"));return(b*parseFloat(a))}else{return parseFloat(a)}}else{return 0}};