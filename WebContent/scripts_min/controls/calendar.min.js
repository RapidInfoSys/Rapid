var cal_A_TCALTOKENS=[{t:"Y",r:"19\\d{2}|20\\d{2}",p:function(a,b){a.setFullYear(Number(b));return a},g:function(a){var b=a.getFullYear();return b}},{t:"m",r:"0?[1-9]|1[0-2]",p:function(a,b){a.setMonth(Number(b)-1);return a},g:function(a){var b=a.getMonth()+1;return(b<10?"0":"")+b}},{t:"d",r:"0?[1-9]|[12][0-9]|3[01]",p:function(a,b){a.setDate(Number(b));if(a.getDate()!=b){a.setDate(0)}return a},g:function(a){var b=a.getDate();return(b<10?"0":"")+b}},{t:"j",r:"0?[1-9]|[12][0-9]|3[01]",p:function(a,b){a.setDate(Number(b));if(a.getDate()!=b){a.setDate(0)}return a},g:function(a){var b=a.getDate();return b}},{t:"S",r:"st|nd|rd|th",p:function(a,b){return a},g:function(a){n_date=a.getDate();if(n_date%10==1&&n_date!=11){return"st"}if(n_date%10==2&&n_date!=12){return"nd"}if(n_date%10==3&&n_date!=13){return"rd"}return"th"}}];function cal_f_tcalResetTime(a){a.setMilliseconds(0);a.setSeconds(0);a.setMinutes(0);a.setHours(12);return a}function cal_f_tcalParseDate(d,f){if(!d){return}if(typeof(window.cal_A_TCALTOKENS_IDX)==="undefined"){window.cal_A_TCALTOKENS_IDX={};
for(var c=0;c<cal_A_TCALTOKENS.length;c++){cal_A_TCALTOKENS_IDX[cal_A_TCALTOKENS[c]["t"]]=cal_A_TCALTOKENS[c]}}var b,g="^",j={},i,a=0;for(var c=0;c<f.length;c++){b=f.charAt(c);if(cal_A_TCALTOKENS_IDX[b]){j[b]=++a;g+="("+cal_A_TCALTOKENS_IDX[b]["r"]+")"}else{if(b==" "){g+="\\s"}else{g+=(b.match(/[\w\d]/)?"":"\\")+b}}}var k=new RegExp(g+"$");if(!d.match(k)){return}var e,h=cal_f_tcalResetTime(new Date());h.setDate(1);for(c=0;c<cal_A_TCALTOKENS.length;c++){b=cal_A_TCALTOKENS[c]["t"];if(!j[b]){continue}e=RegExp["$"+j[b]];h=cal_A_TCALTOKENS[c]["p"](h,e)}return h}function cal_f_tcalGenerateDate(b,a){if(typeof(window.cal_A_TCALTOKENS_IDX)==="undefined"){window.cal_A_TCALTOKENS_IDX={};for(var e=0;e<cal_A_TCALTOKENS.length;e++){cal_A_TCALTOKENS_IDX[cal_A_TCALTOKENS[e]["t"]]=cal_A_TCALTOKENS[e]}}var d,c="";for(var e=0;e<a.length;e++){d=a.charAt(e);c+=cal_A_TCALTOKENS_IDX[d]?cal_A_TCALTOKENS_IDX[d]["g"](b):d}return c}var _calendarWeeks=["Su","Mo","Tu","We","Th","Fr","Sa"];var _calendarMonths=["January","February","March","April","May","June","July","August","September","October","November","December"];
var _calendarMonthDays=[31,28,31,30,31,30,31,31,30,31,30,31];function calendarGetMonthDays(a,c){var b=_calendarMonthDays[c];if(c==1&&a%4==0&&!(a%100==0&&a%400!=0)){b++}return b}function calendarSetDate(c,a){var b=$("#"+c);if(a){b.attr("data-date",a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate())}else{b.removeAttr("data-date")}}function calendarUpdate(a){var c=$("#"+a);var g=c.attr("data-year");var f=c.attr("data-month");var b=new Date(c.attr("data-date"));var h=new Date();var l=new Date(g,f,1);var j=calendarGetMonthDays(g,f);var d=c.find("div.calendarHeader");var k=d.find(".calendarLabel");k.html(_calendarMonths[f]+" "+g);var n=c.find("table.calendarTable");var e=n.find("tbody");var m=e.find("td");m.removeClass("calendarToday").removeClass("calendarSelectedDay");var i=1-l.getDay();m.each(function(){var p=$(this);if(i>0&&i<=j){p.html(i).removeClass("calendarNonDay").addClass("calendarDay");if(i==h.getDate()&&f==h.getMonth()&&g==h.getFullYear()){p.addClass("calendarToday")}if(i==b.getDate()&&f==b.getMonth()&&g==b.getFullYear()){p.addClass("calendarSelectedDay")
}}else{p.html("").removeClass("calendarDay").addClass("calendarNonDay")}i++});var o=e.find("tr").filter(function(p){return p>0});o.each(function(){var p=$(this);if(p.children().first().html()){p.show()}else{p.hide()}})}function calendarMove(g,c,a){var e=$(g).closest("div.calendar");var f=e.attr("id");var b=e.attr("data-year")*1;var d=e.attr("data-month")*1;switch(c){case ("y"):e.attr("data-year",b+a);break;case ("m"):d+=a;if(d<0){d=11;b-=1}if(d>11){d=0;b+=1}e.attr("data-year",b);e.attr("data-month",d);break}calendarUpdate(f)}function calendarSelectDay(h){var f=$(h);var e=f.closest("div.calendar");var g=e.attr("id");var c=e.attr("data-year")*1;var d=e.attr("data-month")*1;var a=f.html();var b=new Date(c,d,a);calendarSetDate(g,b);calendarUpdate(g);if(f.hasClass("calendarDay")&&window["Event_selectDay_"+g]){window["Event_selectDay_"+g]($.Event("selectDay"))}}function calendarInit(c,b){var d=new Date();if(b.date){d=new Date(b.date)}calendarSetDate(c,d);var f=$("#"+c);f.attr("data-year",d.getFullYear());
f.attr("data-month",d.getMonth());var m=f.find("table.calendarTable");var a=m.find("thead");var l="<tr>";for(var g=0;g<7;g++){l+="<td>"+_calendarWeeks[g]+"</td>"}l+="</tr>";a.html(l);var k=m.find("tbody");var h="";for(var g=0;g<5;g++){h+="<tr>";for(var e=0;e<7;e++){h+="<td onclick='calendarSelectDay(this);'></td>"}h+="</tr>"}k.html(h);calendarUpdate(c)};