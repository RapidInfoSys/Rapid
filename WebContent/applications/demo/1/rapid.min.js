function Action_control(c){for(var a in c){var b=c[a];$("#"+b.id)[b["function"]](b.value)}}function Action_datacopy(f,g,a,e){if(f!=null&&f!==undefined&&g){for(var d in g){var b=g[d];if(a){var c=window["getData_"+b.type](b.id,f,b.field,b.details);f=mergeDataObjects(c,f,a,e)}window["setData_"+b.type](b.id,f,b.field,b.details)}}}function Action_database(e,c,d){if(c&&d){if(c.sequence>getDatabaseActionMaxSequence(e)){_databaseActionMaxSequence[e]=c.sequence;for(var b in d){var a=d[b];window["setData_"+a.type](a.id,c,a.field,a.details)}}}}$(document).ready(function(){$(window).resize(function(a){var c=$(document);var b=$(window);$(".dialogueCover").css({width:c.width(),height:c.height()});$(".dialogue").each(function(){var d=$(this);d.css({left:(b.width()-d.outerWidth())/2,top:(b.height()-d.outerHeight())/3})})})});function Action_navigate(c,a,d){if(a){var b="<div><h1 style='margin-left:auto;margin-right:auto;'>Page</h1></div>";$.ajax({url:c,type:"GET",data:null,async:false,error:function(f,e,g){alert("Error loading dialogue : "+f.responseText||g)
},success:function(l){if(l){b="";script="";links="";var m=$(l);for(var g in m){switch(m[g].nodeName){case"#text":case"TITLE":break;case"SCRIPT":if(m[g].innerHTML){script+=m[g].outerHTML}break;case"LINK":var f=true;var o=m[g].outerHTML;if(!m[g].innerHTML&&o.indexOf('href="')>0){var k=o.indexOf('href="')+6;var e=o.substr(k,o.indexOf('"',k)-k);if($("head").find("link[href='"+e+"']")[0]){f=false}}if(f){links+=o}break;case"META":break;default:if(m[g].outerHTML){b+=m[g].outerHTML}break}}if(b.indexOf('<form name="login" id="RapidLogin">')>0){window.location="login.jsp?requestPath="+window.location}var n=$(document);var h=$("body");$("#"+d+"cover").remove();dialogueCover=h.append("<div id='"+d+"cover' class='dialogueCover' style='position:absolute;left:0px;top:0px;z-index:100;'></div>").children().last();$("#"+d+"dialogue").remove();a=h.append("<div id='"+d+"dialogue' class='dialogue' style='position:absolute;z-index:101;'></div>").children().last();a.css("visibility","hidden");if(links){a.append(links)
}a.append(b);if(script){a.append(script)}var j=$(window);$(window).resize();window.setTimeout(function(){a.css("visibility","visible");if(window._rapidmobile){$(window).resize()}},200)}}})}else{window.location=c}}function Action_validation(f,b,j){var a=true;for(var d in b){var c=b[d];var g=window["getData_"+c.controlType](f,c.controlId,c.field,c.details);if(c.validationType=="javascript"){var e=new Function("value",c.javaScript);var h=e.apply(this,[g]);if(h){if(j){showValidationMessage(c.controlId,h)}a=false}else{if(j){hideValidationMessage(c.controlId)}}}else{if((g&&g.match(new RegExp(c.regEx)))||(!g&&c.allowNulls)){if(j){hideValidationMessage(c.controlId)}}else{if(j){showValidationMessage(c.controlId,c.message)}a=false}}}return a}function Action_webservice(e,c,d){if(c&&d){if(c.sequence>getWebserviceActionMaxSequence(e)){_webserviceActionMaxSequence[e]=c.sequence;for(var b in d){var a=d[b];window["setData_"+a.type](a.id,c,a.field,a.details)}}}}function Init_date(b,a){A_TCALCONF.format=a.dateFormat;
f_tcalAdd(b)}function Init_hints(f,d){var a=$("body");for(var c in d.controlHints){var b=d.controlHints[c];if(!$("#"+b.controlId+"hint")[0]){var e=b.style;if(e){e=" style='"+e+"'"}else{e=""}a.append("<span class='hint' id='"+b.controlId+"hint'"+e+">"+b.text+"</span>");$("#"+b.controlId+"hint").hide()}$("#"+b.controlId).mouseout({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").hide()});switch(b.type){case"click":$("#"+b.controlId).click({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").css({left:g.pageX+5,top:g.pageY+5}).show()});break;case"hover":$("#"+b.controlId).mouseover({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").css({left:g.pageX+5,top:g.pageY+5}).show()});break}}}function Init_pagePanel(c,b){var a="<center><h1>Page</h1></center>";$.ajax({url:"~?a="+b.appId+"&p="+b.pageId+"&v="+b.version,type:"GET",data:null,error:function(g,d,f){var e="Error loading page : "+f},success:function(f){if(f){a="";script="";var d=$(f);for(var e in d){switch(d[e].nodeName){case"#text":case"TITLE":break;
case"SCRIPT":if(d[e].innerHTML){script+=d[e].outerHTML}break;default:if(d[e].outerHTML){a+=d[e].outerHTML}break}}$("#"+c).html(a);if(script){$("#"+c).append(script)}$(window).resize()}}})}function Init_tabGroup(b,a){$("#"+b).children("ul").children("li").each(function(){var c=$("#"+b);horizontal=true;if(window[b+"details"]&&window[b+"details"].tabType=="V"){horizontal=false}if(horizontal){c.children("ul").addClass("tabsHeaderH")}else{c.children("ul").addClass("tabsHeaderV")}$(this).click(function(e,d){c.children("ul").children("li").removeClass("selected");c.children("div").removeClass("selected").css("display","none");var d=$(this).addClass("selected").index()+2;c.children("div:nth-child("+d+")").addClass("selected");if(horizontal){c.children("div.selected").css("display","block")}else{c.children("div.selected").css("display","table-cell")}})})}function getData_checkbox(b,d,c,a){return $("#"+d).prop("checked")?"true":"false"}function setData_checkbox(f,c,e,b){var d=$("#"+f);if(c!=null&&c!==undefined){c=makeDataObject(c,e);
if(c.rows&&c.rows[0]){if(e&&c.fields){for(var a in c.fields){if(c.fields[a].toLowerCase()==e.toLowerCase()){d.prop("checked",c.rows[0][a]);break}}}else{d.prop("checked",c.rows[0][0])}}else{d.prop("checked",false)}}else{d.prop("checked",false)}}function getData_dataStore(e,h,g,c){var a;switch(c.storageType){case"L":a=localStorage;break;case"S":a=sessionStorage;break;case"P":if(!window[c.id+"datastore"]){window[c.id+"datastore"]={}}a=window[c.id+"datastore"];break}if(a){if(c.id){h=c.id}var f=null;var d=a[_appId+"_"+h];if(d){var f=JSON.parse(d);if(f){if(f.rows&&f.fields){if(f.rows[0]&&g){for(var b in f.fields){if(f.fields[b].toLowerCase()==g.toLowerCase()){return f.rows[0][b]}}}else{return f}}else{if(g&&f[g]){return f[g]}}}}return f}}function setData_dataStore(e,c,d,b){var a;switch(b.storageType){case"L":a=localStorage;break;case"S":a=sessionStorage;break;case"P":if(!window[b.id+"datastore"]){window[b.id+"datastore"]={}}a=window[b.id+"datastore"];break}if(a){if(b.id){e=b.id}if(c!=null&&c!==undefined){c=makeDataObject(c,d);
a[_appId+"_"+e]=JSON.stringify(c)}else{a[_appId+"_"+e]=null}}}function getData_date(b,d,c,a){return $("#"+d).val()}function setData_date(h,e,g,c){var f=$("#"+h);var d="";if(e!=null&&e!==undefined){e=makeDataObject(e,g);if(e.rows&&e.rows[0]){if(g&&e.fields){for(var b in e.fields){if(e.fields[b].toLowerCase()==g.toLowerCase()){d=e.rows[0][b];break}}}else{d=e.rows[0][0]}}}if(d){var a=f_tcalParseDate(d,"Y-m-d");if(a){d=f_tcalGenerateDate(a,c.dateFormat)}}f.val(d)}function getData_dropdown(b,d,c,a){return $("#"+d).val()}function setData_dropdown(b,e,g,a){if(e!=null&&e!==undefined){var d=$("#"+b);e=makeDataObject(e,g);if(e.rows&&e.fields){if(g&&e.rows[0]){var l=false;for(var f in e.fields){if(g.toLowerCase()==e.fields[f].toLowerCase()){d.val(e.rows[0][f]);l=true;break}}if(!l){d.val(e.rows[0][0])}}else{for(var f in e.rows){var m=e.rows[f];var k="";var h="";if(e.fields){for(var c in e.fields){if(e.fields[c].toLowerCase()=="text"){k=e.rows[f][c]}if(e.fields[c].toLowerCase()=="value"){h=e.rows[f][c]
}}}if(!k){k=m[0]}if(!h&&m[1]){h=m[1]}if(h||h=="0"){h=" value='"+h+"'"}d.append("<option "+h+">"+k+"</option>")}}}}}function getData_grid(c,h,e,b){var d=null;if(b&&b.columns){if(e){var f=$(c.target).closest("tr");var g=f.index()-1;if(g>=0){for(var a in b.columns){if(b.columns[a].field.toLowerCase()==e.toLowerCase()){d=f.children(":nth("+a+")").html();break}}}}else{var d={};d.fields=[];for(var a in b.columns){d.fields.push(b.columns[a].field)}d.rows=[];$("#"+h).find("tr:not(:first)").each(function(j){var k=[];$(this).children().each(function(l){k.push($(this).html())});d.rows.push(k)})}}return d}function setData_grid(d,k,o,a){var h=$("#"+d);h.find("tr:not(:first)").remove();if(k!=null&&k!==undefined){k=makeDataObject(k,o);if(k.rows){if(a&&a.columns&&k.fields){var n=[];for(var l in a.columns){for(var g in k.fields){var r=false;if(a.columns[l].field){if(a.columns[l].field.toLowerCase()==k.fields[g].toLowerCase()){r=true}}else{if(!k.fields[g]){r=true}}if(r){n.push(g);break}}if(n.length==l){n.push("")
}if(a.columns[l].cellFunction&&!a.columns[l].f){a.columns[l].f=new Function(a.columns[l].cellFunction)}}for(var l in k.rows){var q=k.rows[l];var m=h.append("<tr class='rowStyle"+(l%2+1)+"'></tr>").find("tr:last");for(var g in a.columns){var b="";if(!a.columns[g].visible){b+="display:none;"}if(a.columns[g].style){b+=a.columns[g].style}if(b){b=" style='"+b+"'"}var p="";var e=n[g];if(e&&q[e]){p=q[n[g]]}var c=m.append("<td"+b+">"+p+"</td>").find("td:last");if(a.columns[g].f){a.columns[g].f.apply(c,[d,k,o,a])}}}}else{for(var l in k.rows){var q=k.rows[l];var f="<tr>";for(var g in q){f+="<td>"+q[g]+"</td>"}f+="</tr>";h.append(f)}}}h.children().last().children("tr:not(:first)").click(function(){var i=$(this);i.parent().find("tr.rowSelect").each(function(){var j=$(this);j.removeClass("rowSelect")});i.addClass("rowSelect")})}}function getProperty_grid_rowCount(b,d,c,a){return($("#"+d).find("tr").size()-1)}function getData_input(b,d,c,a){return $("#"+d).val()}function setData_input(f,c,e,b){var d=$("#"+f);
if(c!=null&&c!==undefined){c=makeDataObject(c,e);if(c.rows&&c.rows[0]){if(e&&c.fields&&c.fields.length>0){for(var a in c.fields){if(c.fields[a].toLowerCase()==e.toLowerCase()){d.val(c.rows[0][a]);break}}}else{if(c.rows[0][0]!=null&&c.rows[0][0]!==undefined){d.val(c.rows[0][0])}else{d.val("")}}}else{d.val("")}}else{d.val("")}}function getData_radiobuttons(b,d,c,a){return $("#"+d).children("input[type=radio]:checked").val()}function setData_radiobuttons(g,e,f,b){if(e!=null&&e!==undefined){var d=$("#"+g);d.children("input[type=radio]").prop("checked",false);e=makeDataObject(e,f);var c=null;if(e.rows&&e.rows[0]){if(f&&e.fields){for(var a in e.fields){if(e.fields[a].toLowerCase()==f.toLowerCase()){c=e.rows[0][a];break}}}else{c=e.rows[0][0]}}if(c){d.children("input[type=radio][value="+c+"]").prop("checked",true)}}}function getData_text(b,d,c,a){return $("#"+d).html()}function setData_text(f,c,e,b){var d=$("#"+f);if(c!=null&&c!==undefined){c=makeDataObject(c,e);if(c.rows&&c.rows[0]){if(e&&c.fields){for(var a in c.fields){if(c.fields[a].toLowerCase()==e.toLowerCase()){d.html(c.rows[0][a]);
break}}}else{d.html(c.rows[0][0])}}else{d.html("")}}else{d.html("")}}function Event_error(a,c,b){if(c){alert("Error in "+a+" event for control "+c+"  "+b)}else{alert("Error in "+a+" event for page "+b)}}function linkClick(b,f){var a=JSON.parse(f);for(var c in a){var d=a[c];if(d.type){var e=window["getData_"+d.type](null,d.itemId,d.field,d.details)}else{var e=$.getUrlVar(d.itemId)}if(e!==undefined){b+="&"+d.name+"="+e}}window.location=b}var _databaseActionSequence=[];var _databaseActionMaxSequence=[];function getDatabaseActionSequence(b){var a=_databaseActionSequence[b];if(!a){a=0}a++;_databaseActionSequence[b]=a;return a}function getDatabaseActionMaxSequence(b){var a=_databaseActionMaxSequence[b];if(a===undefined){a=0;_databaseActionMaxSequence[b]=a}return a}var _webserviceActionSequence=[];var _webserviceActionMaxSequence=[];function getWebserviceActionSequence(b){var a=_webserviceActionSequence[b];if(!a){a=0}a++;_webserviceActionSequence[b]=a;return a}function getWebserviceActionMaxSequence(b){var a=_webserviceActionMaxSequence[b];
if(a===undefined){a=0;_webserviceActionMaxSequence[b]=a}return a};