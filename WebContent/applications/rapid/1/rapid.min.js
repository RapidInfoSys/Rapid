function getDataStoreData(e,a,d){var c;switch(a.storageType){case"L":if(!localStorage[_appId+"_"+e]){localStorage[_appId+"_"+e]="{}"}var b=localStorage[_appId+"_"+e];c=JSON.parse(b);break;case"S":if(!sessionStorage[_appId+"_"+e]){sessionStorage[_appId+"_"+e]="{}"}var b=sessionStorage[_appId+"_"+e];c=JSON.parse(b);break;case"P":if(!window[e+"datastore"]){window[e+"datastore"]={}}c=window[e+"datastore"];break}return c}function saveDataStoreData(d,a,c){switch(a.storageType){case"L":localStorage[_appId+"_"+d]=JSON.stringify(c);break;case"S":sessionStorage[_appId+"_"+d]=JSON.stringify(c);break;case"P":window[d+"datastore"]=c;break}var b=window["Event_change_"+d];if(b){b($.Event("change"))}}function getGridDataStoreData(c,a){data=null;switch(a.dataStorageType){case"L":var b=localStorage[_appId+c];if(b){data=JSON.parse(b)}break;case"S":var b=sessionStorage[_appId+c];if(b){data=JSON.parse(b)}break}return data}function saveGridDataStoreData(c,a,b){switch(a.dataStorageType){case"L":localStorage[_appId+c]=JSON.stringify(b);
break;case"S":sessionStorage[_appId+c]=JSON.stringify(b);break}}function sortGridByColumn(h,b,a,c,j){var d=getData_grid(h,b,null,a);if(d&&d.rows&&d.fields[c]&&a.columns&&a.columns[c]){var k=[];for(var e in d.rows){k.push({index:e,value:d.rows[e][c]})}switch(a.columns[c].sort){case"n":k.sort(function(i,f){return(i.value*1)-(f.value*1)});break;case"d1":k.sort(function(n,f){var p=n.value.split("/");var m=f.value.split("/");if(!p||p.length<3){return 1}else{if(!m||m.length<3){return -1}else{var o=new Date(p[2],p[1]-1,p[0]);var i=new Date(m[2],m[1]-1,m[0]);return o.getTime()-i.getTime()}}});break;case"d2":k.sort(function(o,i){var q=o.value.split("-");var n=i.value.split("-");if(!q||q.length<3){return 1}else{if(!n||n.length<3){return -1}else{var f=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];for(m1 in f){if(q[1].toLowerCase().substr(0,3)==f[m1]){break}}for(m2 in f){if(n[1].toLowerCase().substr(0,3)==f[m2]){break}}var p=new Date(q[2],m1,q[0]);var m=new Date(n[2],m2,n[0]);
return p.getTime()-m.getTime()}}});break;case"d3":k.sort(function(n,f){var p=n.value.split("/");var m=f.value.split("/");if(!p||p.length<3){return 1}else{if(!m||m.length<3){return -1}else{var o=new Date(p[2],p[0]-1,p[1]);var i=new Date(m[2],m[0]-1,m[1]);return o.getTime()-i.getTime()}}});break;case"d1":k.sort(function(n,f){var p=n.value.split("-");var m=f.value.split("-");if(!p||p.length<3){return 1}else{if(!m||m.length<3){return -1}else{var o=new Date(p[0],p[1]-1,p[1]);var i=new Date(m[0],m[1]-1,m[1]);return o.getTime()-i.getTime()}}});break;case"c":var g=new Function("item1","item2",a.columns[c].sortFunction);k.sort(g);break;default:k.sort(function(p,o){if(p.value==null){return 1}else{if(o.value==null){return -1}else{var n=0;v1=p.value.toLowerCase();v2=o.value.toLowerCase();if(v1!=v2){var f=Math.min(v1.length,v2.length);for(var m=0;m<f;m++){if(v1.charCodeAt(m)>v2.charCodeAt(m)){n=1;break}else{if(v1.charCodeAt(m)<v2.charCodeAt(m)){n=-1;break}}}if(n==0){n=v1.length-v2.length}}return n}}})
}var l=[];if(j){for(var e in k){l.push(d.rows[k[e].index])}}else{for(var e in k){l.push(d.rows[k[k.length-e-1].index])}}d.rows=l;setData_grid(h,b,null,a,d)}}function linkClick(b,f){var a=JSON.parse(f);for(var c in a){var d=a[c];if(d.type){var e=window["getData_"+d.type](null,d.itemId,d.field,d.details)}else{var e=$.getUrlVar(d.itemId)}if(e!==undefined){b+="&"+d.name+"="+e}}window.location=b}function Event_error(a,c,b){if(c){alert("Error in "+a+" event for control "+c+"  "+b)}else{alert("Error in "+a+" event for page "+b)}}var _databaseActionSequence=[];var _databaseActionMaxSequence=[];function getDatabaseActionSequence(b){var a=_databaseActionSequence[b];if(!a){a=0}a++;_databaseActionSequence[b]=a;return a}function getDatabaseActionMaxSequence(b){var a=_databaseActionMaxSequence[b];if(a===undefined){a=0;_databaseActionMaxSequence[b]=a}return a}function getDatabaseActionInputData(h,g,o,f){var d={};if(h){if(f&&f.fields&&f.rows&&f.fields.length>0&&f.rows.length>0){d.fields=[];for(var e in g){d.fields.push(o+"."+g[e])
}d.rows=[];for(var e in f.rows){var c=f.rows[e];var p=[];for(var b in g){var m=g[b];var n=-1;for(var a in f.fields){if(m.toLowerCase()==f.fields[a].toLowerCase()){n=a;break}}if(n>-1){p.push(c[n])}else{p.push(null)}}d.rows.push(p)}}else{d.rows=[];d.rows.push([])}}else{d.fields=[];d.rows=[];d.rows.push([]);for(var e in g){var l=g[e];d.fields.push(l.id);d.rows[0].push(l.value)}}return d}var _webserviceActionSequence=[];var _webserviceActionMaxSequence=[];function getWebserviceActionSequence(b){var a=_webserviceActionSequence[b];if(!a){a=0}a++;_webserviceActionSequence[b]=a;return a}function getWebserviceActionMaxSequence(b){var a=_webserviceActionMaxSequence[b];if(a===undefined){a=0;_webserviceActionMaxSequence[b]=a}return a};function Init_grid(h,d){var f=$("#"+h);if(d){if(d.columns){var g=f.find("tr:first-child td");for(var c in d.columns){if(d.columns[c].sort){var a=$(g.get(c));a.css("cursor","pointer");a.click({index:c},function(j){var i=$(j.target);if(!i.is("span")){i=i.find("span")}if(i.html()=="\uf0de"){sortGridByColumn(j,h,d,j.data.index,false);i.html("&#xf0dd;")}else{sortGridByColumn(j,h,d,j.data.index,true);i.html("&#xf0de;")}})}}}if(d.dataStorageType){var e=getGridDataStoreData(h,d);if(e){setData_grid($.Event("gridinit"),h,null,d,e)}$("#"+h).click(function(i){var j=getGridDataStoreData(h,d);j.selectedRowNumber=$(i.target).closest("tr").index();saveGridDataStoreData(h,d,j)})}if(d.fixedHeader){var b=f.clone(true);f.find("tr:first-child").hide();b.removeAttr("id");b.find("tr:not(:first-child)").remove();b.appendTo(f.parent().prev())}}}function Init_hints(f,d){var a=$("body");for(var c in d.controlHints){var b=d.controlHints[c];if(!$("#"+b.controlId+"hint")[0]){var e=b.style;if(e){e=" style='"+e+"'"}else{e=""
}a.append("<span class='hint' id='"+b.controlId+"hint'"+e+">"+b.text+"</span>");$("#"+b.controlId+"hint").hide()}$("#"+b.controlId).mouseout({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").hide()});switch(b.type){case"click":$("#"+b.controlId).click({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").css({left:g.pageX+5,top:g.pageY+5}).show()});break;case"hover":$("#"+b.controlId).mouseover({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").css({left:g.pageX+5,top:g.pageY+5}).show()});break}}}function Init_pagePanel(c,b){var a="<center><h1>Page</h1></center>";$.ajax({url:"~?a="+_appId+"&v="+_appVersion+"&p="+b.pageId+"&action=dialogue",type:"GET",data:null,error:function(g,d,f){var e="Error loading page : "+f},success:function(h){if(h){var k=$("head");a="";script="";var j=$(h);for(var f in j){switch(j[f].nodeName){case"#text":case"TITLE":case"META":break;case"SCRIPT":if(j[f].innerHTML){var m=j[f].outerHTML;if(m.indexOf("var _appId =")==-1&&m.indexOf("var _appVersion =")==-1&&m.indexOf("var _pageId =")==-1&&m.indexOf("var _mobileResume =")==-1){script+=m
}}else{var l=j[f].outerHTML;if(l.indexOf('src="')>0){var g=l.indexOf('src="')+5;var d=l.substr(g,l.indexOf('"',g)-g);if(!k.find("script[src='"+d+"']")[0]){k.append(l)}}}break;case"LINK":var l=j[f].outerHTML;if(!j[f].innerHTML&&l.indexOf('href="')>0){var g=l.indexOf('href="')+6;var e=l.substr(g,l.indexOf('"',g)-g);if(!k.find("link[href='"+e+"']")[0]){k.append(l)}}break;default:if(j[f].outerHTML){a+=j[f].outerHTML}break}}$("#"+c).html(a);if(script){$("#"+c).append(script)}$(window).resize()}}})}function Init_tabGroup(b,a){$("#"+b).children("ul").children("li").each(function(){var c=$("#"+b);horizontal=true;if(window[b+"details"]&&window[b+"details"].tabType=="V"){horizontal=false}if(horizontal){c.children("ul").addClass("tabsHeaderH")}else{c.children("ul").addClass("tabsHeaderV")}$(this).click(function(e,d){c.children("ul").children("li").removeClass("selected");c.children("div").removeClass("selected").css("display","none");var d=$(this).addClass("selected").index()+2;c.children("div:nth-child("+d+")").addClass("selected");
if(horizontal){c.children("div.selected").css("display","block")}else{c.children("div.selected").css("display","table-cell")}})})};function getData_checkbox(b,d,c,a){return $("#"+d).prop("checked")?"true":"false"}function setData_checkbox(g,b,h,a,f,c){var e=$("#"+b);var j=false;if(f!=null&&f!==undefined){f=makeDataObject(f,h);if(f.rows&&f.rows[0]){if(h&&f.fields){for(var d in f.fields){if(f.fields[d].toLowerCase()==h.toLowerCase()){j=f.rows[0][d];break}}}else{j=f.rows[0][0]}}}e.prop("checked",j);if(c){e.trigger("change")}}function getData_dataStore(c,g,f,b){var e=getDataStoreData(g,b,f);if(e){if(e.rows&&e.fields){if(e.rows[0]&&f){for(var a in e.fields){if(e.fields[a].toLowerCase()==f.toLowerCase()){var d=e.rows[0][a];if(d!==undefined){return d}else{break}}}return null}else{return e}}else{if(f&&e[f]){return e[f]}else{return null}}}return e}function setData_dataStore(c,f,e,a,d,b){if(a.id){f=a.id}if(d!=null&&d!==undefined){d=makeDataObject(d,e);saveDataStoreData(f,a,d)}else{saveDataStoreData(f,a,null)}}function getProperty_dataStore_selectedRowData(b,e,d,a){var c=getDataStoreData(e,a);if(c&&c.selectedRowNumber&&c.rows&&c.rows[c.selectedRowNumber-1]){return{fields:c.fields,rows:[c.rows[c.selectedRowNumber-1]]}
}}function setProperty_dataStore_selectedRowData(d,g,f,b,e,c){var a=getDataStoreData(g,b);if(a&&a.selectedRowNumber){e=makeDataObject(e,f);if(e&&e.rows){a.rows[a.selectedRowNumber]=e.rows[0][0];saveDataStoreData(g,b,a)}}}function getProperty_dataStore_selectedRowNumber(b,e,d,a){var c=getDataStoreData(e,a);if(c){return c.selectedRowNumber}}function setProperty_dataStore_selectedRowNumber(d,g,f,b,e,c){var a=getDataStoreData(g,b);if(a){e=makeDataObject(e,f);if(e&&e.rows){a.selectedRowNumber=e.rows[0][0];saveDataStoreData(g,b,a)}}}function getProperty_dataStore_rowCount(c,e,d,b){var a=getDataStoreData(e,b);if(a&&a.rows){return a.rows.length}}function setProperty_dataStore_append(e,h,g,c,f,d){var b=getDataStoreData(h,c);if(b){f=makeDataObject(f,g);if(f&&f.rows){if(!b.fields){b.fields=f.fields}if(!b.rows){b.rows=[]}for(var a in f.rows){b.rows.push(f.rows[a])}saveDataStoreData(h,c,b)}}}function getData_dropdown(b,d,c,a){return $("#"+d).val()}function setData_dropdown(h,b,k,a,g,c){if(g!=null&&g!==undefined){var f=$("#"+b);
g=makeDataObject(g,k);if(g.rows&&g.fields){if(k&&g.rows[0]){var n=false;for(var e in g.fields){if(k.toLowerCase()==g.fields[e].toLowerCase()){f.val(g.rows[0][e]);if(c){f.trigger("change")}n=true;break}}if(!n){f.val(g.rows[0][0])}}else{for(var e in g.rows){var o=g.rows[e];var m="";var l="";if(g.fields){for(var d in g.fields){if(g.fields[d].toLowerCase()=="text"){m=g.rows[e][d]}if(g.fields[d].toLowerCase()=="value"){l=g.rows[e][d]}}}if(!m){m=o[0]}if(!l&&o[1]){l=o[1]}if(l||l=="0"){l=" value='"+l+"'"}f.append("<option "+l+">"+m+"</option>")}}}}}function setProperty_dropdown_value(c,f,e,a,d,b){var d=makeDataObject(d,e);if(d&&d.rows){$("#"+f).val(d.rows[0][0])}else{$("#"+f).val("")}}function getData_grid(c,h,e,b){var d=null;if(b){if(b.dataStorageType&&!$("#"+h)[0]){d=getGridDataStoreData(h,b);if(e&&d.fields&&d.rows&&d.rows.length>0){for(var a in d.fields){if(d.fields[a]==e){d=d.rows[0][a];break}}}}else{if(b.columns){if(e){var f=$("#"+h).find("tr.rowSelect");var g=f.index()-1;if(g>=0){for(var a in b.columns){if(b.columns[a].field.toLowerCase()==e.toLowerCase()){d=f.children(":nth("+a+")").html();
break}}}}else{var d={};d.fields=[];for(var a in b.columns){var e=b.columns[a].field;if(e){d.fields.push(b.columns[a].field)}}d.rows=[];$("#"+h).find("tr:not(:first):not([data-ignore])").each(function(j){var k=[];$(this).children().each(function(l){if(b.columns[l].field){k.push($(this).html())}});d.rows.push(k)})}}}}return d}function setData_grid(u,n,a,t,x,m){var f=$("#"+n);f.find("tr:not(:first)").remove();f.find("span.sort").html("&#xf0dc");if(x!==undefined){x=makeDataObject(x,a);if(x&&x.rows){if(t&&t.columns&&x.fields){var d=[];for(var r in t.columns){for(var q in x.fields){var k=false;if(t.columns[r].field){if(t.columns[r].field.toLowerCase()==x.fields[q].toLowerCase()){k=true}}else{if(!x.fields[q]){k=true}}if(k){d.push(q);break}}if(d.length==r){d.push("")}if(t.columns[r].cellFunction&&!t.columns[r].f){t.columns[r].f=new Function(t.columns[r].cellFunction)}}for(var r in x.rows){var e=x.rows[r];var h=f.append("<tr class='rowStyle"+(r%2+1)+"'></tr>").find("tr:last");for(var q in t.columns){var s="";
if(!t.columns[q].visible){s+="display:none;"}if(t.columns[q].style){s+=t.columns[q].style}if(s){s=" style='"+s+"'"}var p="";var o=d[q];if(o&&e[o]){p=e[d[q]]}var g=h.append("<td"+s+">"+p+"</td>").find("td:last");if(t.columns[q].f){t.columns[q].f.apply(g,[n,x,a,t])}}if(x.rowValidation&&r<x.rowValidation.length){if(!x.rowValidation[r]){h.addClass("validation")}}}if(x.selectedRowNumber){f.find("tr:nth("+x.selectedRowNumber+")").addClass("rowSelect")}}else{for(var r in x.rows){var e=x.rows[r];var v="<tr>";for(var q in e){v+="<td>"+e[q]+"</td>"}v+="</tr>";f.append(v)}}}if(t&&t.dataStorageType){saveGridDataStoreData(n,t,x)}if(t&&t.fixedHeader){var w=f.parent().prev().find("tr:first-child").children();w.css("width","");var b=f.find("tr:nth-child(2)").children();if(b.length>0){for(var r=0;r<b.length;r++){var c=$(w.get(r));var l=$(b.get(r));if(c.width()<l.width()){c.width(l.width())}if(c.width()>l.width()){l.width(c.width())}}}f.find("tr:first-child")[0].offsetHeight}f.children().last().children("tr:not(:first)").click(function(){var i=$(this);
i.parent().find("tr.rowSelect").removeClass("rowSelect");i.addClass("rowSelect")})}}function getProperty_grid_selectedRowData(d,h,f,c){var e=null;if(c.dataStorageType){e=getGridDataStoreData(h,c);e.rows=[e.rows[e.selectedRowNumber-1]]}else{var g=$(d.target).closest("tr");var a=g.index();if(a>0){e={fields:[],rows:[[]]};for(var b in c.columns){e.fields.push(c.columns[b].field);e.rows[0].push(g.children(":nth("+b+")").html())}}}if(f&&e.fields&&e.rows&&e.rows.length>0){for(var b in e.fields){if(e.fields[b]==f){e=e.rows[0][b];break}}}return e}function setProperty_grid_selectedRowData(k,b,l,a,g,c){gridData=getGridDataStoreData(b,a);if(!gridData){gridData={}}g=makeDataObject(g,l);if(gridData.selectedRowNumber){if(g){var n=gridData.fields;if(n){var d={};for(var f in g.fields){var l=g.fields[f];var m=false;for(var e in gridData.fields){if(l.toLowerCase()==gridData.fields[e].toLowerCase()){d[l]=e;m=true;break}}if(!m){gridData.fields.push(l);d[l]=gridData.fields.length-1}}for(var f in g.fields){if(gridData.rows[gridData.selectedRowNumber-1].length<g.fields.length){gridData.rows[gridData.selectedRowNumber-1].push(null)
}gridData.rows[gridData.selectedRowNumber-1][d[g.fields[f]]]=g.rows[0][f]}}else{gridData.fields=g.fields;gridData.rows[gridData.selectedRowNumber-1]=g.rows[0]}}else{gridData.rows.splice(gridData.selectedRowNumber-1,1);if(gridData.rowValidation){gridData.rowValidation.splice(gridData.selectedRowNumber-1,1)}gridData.selectedRowNumber=null}saveGridDataStoreData(b,a,gridData)}else{if(g){if(!gridData.rows){gridData.rows=[]}if(gridData.fields){var d={};for(var f in g.fields){var l=g.fields[f];var m=false;for(var e in gridData.fields){if(l.toLowerCase()==gridData.fields[e].toLowerCase()){d[l]=e;m=true;break}}if(!m){gridData.fields.push(l);d[l]=gridData.fields.length-1}}var o=[];while(o.length<gridData.fields.length){o.push(null)}for(var f in g.fields){var l=g.fields[f];var h=d[l];o[h]=g.rows[0][f]}gridData.rows.push(o)}else{gridData.fields=g.fields;gridData.rows.push(g.rows[0])}gridData.selectedRowNumber=gridData.rows.length;saveGridDataStoreData(b,a,gridData)}}}function getProperty_grid_selectedRowValidation(c,e,d,b){if(b&&b.dataStorageType){var a=getGridDataStoreData(e,b);
if(a.rowValidation&&a.selectedRowNumber){return a.rowValidation[a.selectedRowNumber-1]}}else{return $(c.target).closest("tr").index()}}function setProperty_grid_selectedRowValidation(d,h,g,b,f,c){var f=makeDataObject(f,g);var e=null;var a=$("#"+h);if(a[0]){e=a.find("tr.rowSelect").index();if(f[0][0]){a.find("tr.rowSelect").removeClass("validation")}else{a.find("tr.rowSelect").addClass("validation")}}if(b&&b.dataStorageType){gridData=getGridDataStoreData(h,b);if(!gridData){gridData={}}if(e){gridData.selectedRowNumber=e}if(gridData.rows&&gridData.selectedRowNumber){if(!gridData.rowValidation){gridData.rowValidation=[]}while(gridData.rows.length>gridData.rowValidation){gridData.rowValidation.push(true)}gridData.rowValidation[gridData.selectedRowNumber-1]=f.rows[0][0];saveGridDataStoreData(h,b,gridData)}}}function getProperty_grid_selectedRowNumber(c,e,d,b){if(b&&b.dataStorageType){var a=getGridDataStoreData(e,b);if(a&&a.selectedRowNumber){return a.selectedRowNumber}else{return null}}else{return $(c.target).closest("tr").index()
}}function setProperty_grid_selectedRowNumber(d,h,g,b,f,c){gridData=getGridDataStoreData(h,b);if(!gridData){gridData={fields:[],rows:[]}}f=makeDataObject(f,g);var e=null;var a=$("#"+h);if(a){a.find("tr.rowSelect").removeClass("rowSelect")}if(f){e=f.rows[0][0];if(a){a.find("tr:eq("+e+")").addClass("rowSelect")}}gridData.selectedRowNumber=e;saveGridDataStoreData(h,b,gridData)}function getProperty_grid_rowCount(c,e,d,b){if(b&&b.dataStorageType){var a=getGridDataStoreData(e,b);if(a&&a.rows){return a.rows.length}else{return 0}}else{return $("#"+e).find("tr").size()-1}}function getData_input(b,d,c,a){return $("#"+d).val()}function setData_input(g,b,h,a,f,c){var e=$("#"+b);var j="";if(f!=null&&f!==undefined){f=makeDataObject(f,h);if(f.rows&&f.rows[0]){if(h&&f.fields&&f.fields.length>0){for(var d in f.fields){if(f.fields[d]&&f.fields[d].toLowerCase()==h.toLowerCase()){j=f.rows[0][d];break}}}else{if(f.rows[0][0]!=null&&f.rows[0][0]!==undefined){j=f.rows[0][0]}}}}e.val(j);if(c){e.trigger("change")
}}function getData_radiobuttons(b,d,c,a){return $("#"+d).children("input[type=radio]:checked").val()}function setData_radiobuttons(h,b,j,a,e,c){if(e!=null&&e!==undefined){var g=$("#"+b);g.children("input[type=radio]").prop("checked",false);e=makeDataObject(e,j);var k=null;if(e.rows&&e.rows[0]){if(j&&e.fields){for(var d in e.fields){if(e.fields[d].toLowerCase()==j.toLowerCase()){k=e.rows[0][d];break}}}else{k=e.rows[0][0]}}if(k){var f=g.children("input[type=radio][value="+k+"]");if(f[0]){f.prop("checked",true);if(c){f.trigger("change")}}}}}function getData_text(b,d,c,a){return $("#"+d).html()}function setData_text(d,h,g,b,e,c){var f=$("#"+h);if(e!=null&&e!==undefined){e=makeDataObject(e,g);if(e.rows&&e.rows[0]){if(g&&e.fields){for(var a in e.fields){if(e.fields[a]&&e.fields[a].toLowerCase()==g.toLowerCase()){f.html(e.rows[0][a]);break}}}else{f.html(e.rows[0][0])}}else{f.html("")}}else{f.html("")}};function Action_control(c){for(var a in c){var b=c[a];$("#"+b.id)[b["function"]](b.value)}}function Action_datacopy(g,e,k,a,c,l,j){if(e!==undefined&&k){for(var f in k){var b=k[f];var h=null;switch(c){case"append":case"row":var d=window["getData_"+b.type](g,b.id,null,b.details);e=makeDataObject(e,b.field);h=mergeDataObjects(d,e,c,j);break;case"child":var d=window["getData_"+b.type](g,b.id,null,b.details);if(e&&e.rows&&e.rows.length>0){h=mergeDataObjects(d,e,c,j)}else{h=d}break;case"search":h=mergeDataObjects(l,e,c,j);break;default:h=e}window["setData_"+b.type](g,b.id,b.field,b.details,h,a)}}}function Action_database(c,f,d,e){if(d&&e){if(d.sequence>getDatabaseActionMaxSequence(f)){_databaseActionMaxSequence[f]=d.sequence;for(var b in e){var a=e[b];window["setData_"+a.type](c,a.id,a.field,a.details,d)}}}}$(document).ready(function(){$(window).resize(function(a){var c=$(document);var b=$(window);$(".dialogueCover").css({width:c.width(),height:c.height()});$(".dialogue").each(function(){var d=$(this);
d.css({left:((window.innerWidth?window.innerWidth:b.width())-d.outerWidth(true))/2,top:((window.innerHeight?window.innerHeight:b.height())-d.outerHeight(true))/2})})})});function Action_navigate(c,a,d){if(a){var b="<div><h1 style='margin-left:auto;margin-right:auto;'>Page</h1></div>";$.ajax({url:c,type:"GET",data:null,async:false,error:function(f,e,g){alert("Error loading dialogue : "+f.responseText||g)},success:function(l){if(l){b="";script="";links="";var n=$("head");var m=$(l);for(var g in m){switch(m[g].nodeName){case"#text":case"TITLE":break;case"SCRIPT":if(m[g].innerHTML){var q=m[g].outerHTML;if(q.indexOf("var _appId =")==-1&&q.indexOf("var _appVersion =")==-1&&q.indexOf("var _pageId =")==-1&&q.indexOf("var _mobileResume =")==-1){script+=q}}else{var p=m[g].outerHTML;if(p.indexOf('src="')>0){var j=p.indexOf('src="')+5;var e=p.substr(j,p.indexOf('"',j)-j);if(!n.find("script[src='"+e+"']")[0]){try{n.append(p)}catch(k){}}}}break;case"LINK":var p=m[g].outerHTML;if(!m[g].innerHTML&&p.indexOf('href="')>0){var j=p.indexOf('href="')+6;
var f=p.substr(j,p.indexOf('"',j)-j);if(!n.find("link[href='"+f+"']")[0]){n.append(p)}}break;case"META":break;default:if(m[g].outerHTML){b+=m[g].outerHTML}break}}if(b.indexOf('<form name="login" id="RapidLogin">')>0){window.location="login.jsp?requestPath="+window.location}var o=$(document);var h=$("body");$("#"+d+"cover").remove();dialogueCover=h.append("<div id='"+d+"cover' class='dialogueCover' style='position:absolute;left:0px;top:0px;z-index:1000;'></div>").children().last();$("#"+d+"dialogue").remove();a=h.append("<div id='"+d+"dialogue' class='dialogue' style='position:fixed;z-index:1001;'></div>").children().last();a.css("visibility","hidden");if(links){a.append(links)}a.append(b);a.children().each(function(r){var s=$.fn.hide;$.fn.hide=function(){if(this.parent().is(a)){a.prev("div.dialogueCover").remove();a.remove();return false}else{return s.apply(this,arguments)}}});if(script){a.append(script)}a.find("textarea[maxlength]").each(textarea_maxlength);a.find("textarea.autoheight").each(textarea_autoheight).trigger("keypress");
$(window).resize();window.setTimeout(function(){a.css("visibility","visible");if(window._rapidmobile){$(window).resize()}$("[data-focus]").focus()},200)}}})}else{window.location=c}}var _userName="";function Action_rapid(k,n,e,o,a,d,j,b,g){var i="GET";var f=null;var m=null;switch(d){case"GETAPPS":f={actionType:d,appId:"rapid"};m=function(p){setData_dataStore(k,"rapid_P0_C210",null,{storageType:"S"},p)};break;case"GETVERSIONS":var n=$("#rapid_P0_C43").val();if(n){f={actionType:d,appId:n};m=function(p){setData_dataStore(k,"rapid_P0_C1063_","versions",{storageType:"S"},p)}}else{return false}break;case"GETVERSION":var n=$("#rapid_P0_C43").val();var h=$("#rapid_P0_C1044_").val();if(n&&h){f={actionType:d,appId:n,version:h};m=function(p){setData_dataStore(k,"rapid_P0_C1072_",null,{storageType:"S"},p)}}else{return false}break;case"GETDBCONN":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C311").find("tr.rowSelect").index()-1};m=function(p){setData_dataStore(k,"rapid_P0_C361","databaseConnection",{storageType:"S"},p)
};break;case"GETSOA":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C483_").find("tr.rowSelect").index()-1};m=function(p){setData_dataStore(k,"rapid_P0_C528_","webservice",{storageType:"S"},p);loadSOA(p.webservice)};break;case"GETSEC":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),securityAdapter:$("#rapid_P0_C81").val()};m=function(p){setData_dataStore(k,"rapid_P0_C469_","security",{storageType:"S"},p)};break;case"GETUSERS":f={actionType:d,appId:"rapid"};m=function(q){setData_grid(k,"rapid_P0_C823_","users",{rowSelect:true,columns:[{field:"name",visible:true,style:"text-align:left;padding-left:10px;"},{field:"description",visible:true,style:"text-align:left;padding-left:10px;padding-right:10px;"},{cellFunction:"",field:"",visible:true,style:""}]},q);var p=$("#rapid_P0_C823_").find("tr.rowStyle1,tr.rowStyle2");p.each(function(){var t=$(this).children("td");var s=t.first().html();if(q.currentUser.toLowerCase()!=s.toLowerCase()){var r=t.last();
r.html("<button>delete...</button>");r.find("button").click(function(u){if(confirm("Are you sure?")){Action_rapid(u,"rapid","P0",null,"P0_A904_","DELUSER",true)}u.stopPropagation()})}})};break;case"GETUSER":if(j){f={actionType:d,appId:"rapid",version:_appVersion,userName:getData_grid(k,"rapid_P0_C823_","name",{columns:[{field:"name"}]})}}else{f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),userName:getData_grid(k,"rapid_P0_C216","userName",{columns:[{field:"userName"}]})}}m=function(p){setData_dataStore(k,"rapid_P0_C243","user",{storageType:"S"},p)};break;case"GETPARAM":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C1108_").find("tr.rowSelect").index()-1};m=function(p){setData_dataStore(k,"rapid_P0_C1145_","parameter",{storageType:"S"},p)};break;case"GETDEVICE":f={actionType:d,appId:"rapid",version:_appVersion,index:$("#rapid_P0_C1199_").find("tr.rowSelect").index()-1};m=function(p){setData_dataStore(k,"rapid_P0_C1269_","device",{storageType:"S"},p)
};break;case"RELOADVERSION":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val()};break;case"SAVEAPP":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),status:$("#rapid_P0_C1098_").val(),name:$("#rapid_P0_C392_").val(),saveVersion:$("#rapid_P0_C1077_").val(),title:$("#rapid_P0_C394_").val(),description:$("#rapid_P0_C393_").val(),showControlIds:$("#rapid_P0_C381_").prop("checked"),showActionIds:$("#rapid_P0_C382_").prop("checked"),startPageId:$("#rapid_P0_C644_").val()};break;case"SAVESTYLES":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),styles:$("#rapid_P0_C116").val()};break;case"SAVEFUNCTIONS":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),functions:$("#rapid_P0_C1292_").val()};break;case"SAVEDBCONN":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C311").find("tr.rowSelect").index()-1,name:$("#rapid_P0_C360").val(),driver:$("#rapid_P0_C338").val(),connectionString:$("#rapid_P0_C374").val(),connectionAdapter:$("#rapid_P0_C339").val(),userName:$("#rapid_P0_C340").val(),password:$("#rapid_P0_C341").val()};
m=function(){Event_click_rapid_P0_C311({target:$("#rapid_P0_C311").find("tr.rowSelect").children().first()[0]})};break;case"SAVESOASQL":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C483_").find("tr.rowSelect").index()-1,name:$("#rapid_P0_C496_").val(),databaseConnectionIndex:$("#rapid_P0_C536_")[0].selectedIndex,details:_soaDetails,type:"SQLWebservice"};break;case"SAVESOAJAVA":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C483_").find("tr.rowSelect").index()-1,name:$("#rapid_P0_C944_").val(),className:$("#rapid_P0_C989_").val(),type:"JavaWebservice"};break;case"SAVESECURITYADAPT":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),securityAdapter:$("#rapid_P0_C81").val()};break;case"SAVEACTIONS":var l=[];$("#rapid_P0_C288").find("input:checked").each(function(){l.push($(this).closest("tr").children().first().html())});f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),actionTypes:l};
break;case"SAVECONTROLS":var c=[];$("#rapid_P0_C289").find("input:checked").each(function(){c.push($(this).closest("tr").children().first().html())});f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),controlTypes:c};break;case"REBUILDPAGES":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val()};break;case"NEWAPP":f={actionType:d,appId:"rapid",name:$("#rapid_P1_C7").val(),version:$("#rapid_P1_C48_").val(),title:$("#rapid_P1_C11").val(),description:$("#rapid_P1_C15").val()};m=function(p){window.location="~?a=rapid&p=P0&appId="+p.appId+"&version="+p.version};break;case"DELAPP":f={actionType:d,appId:$("#rapid_P0_C43").val()};m=function(){window.location="~?a=rapid&p=P0"};break;case"DUPAPP":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),newVersion:$("#rapid_P8_C7_").val(),title:$("#rapid_P8_C12_").val(),description:$("#rapid_P8_C17_").val()};m=function(p){location.reload()};break;case"NEWVERSION":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),newVersion:$("#rapid_P17_C7_").val(),title:$("#rapid_P17_C12_").val(),description:$("#rapid_P17_C17_").val()};
m=function(p){location.reload()};break;case"DELVERSION":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val()};m=function(p){location.reload()};break;case"NEWPAGE":f={actionType:d,appId:_version.id,version:_version.version,id:"P"+_nextPageId,name:$("#rapid_P3_C17").val(),title:$("#rapid_P3_C18").val(),description:$("#rapid_P3_C19").val()};m=function(p){hideDialogue();loadPages(p.id,true)};break;case"DELPAGE":f={actionType:d,appId:_version.id,version:_version.version,id:_page.id};m=function(){hideDialogue();loadPages(null,true)};break;case"NEWDBCONN":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),name:$("#rapid_P7_C7").val(),driver:$("#rapid_P7_C37").val(),connectionString:$("#rapid_P7_C44").val(),connectionAdapter:$("#rapid_P7_C38").val(),userName:$("#rapid_P7_C30").val(),password:$("#rapid_P7_C35").val()};m=function(){Event_change_rapid_P0_C43(k)};break;case"DELDBCONN":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$(k.target).parent().parent().index()-1};
m=function(){Event_change_rapid_P0_C43(k)};break;case"NEWSOA":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),name:$("#rapid_P10_C8_").val(),type:$("#rapid_P10_C23_").val()};m=function(){Event_change_rapid_P0_C43(k)};break;case"DELSOA":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$(k.target).parent().parent().index()-1};m=function(){Event_change_rapid_P0_C43(k)};break;case"NEWROLE":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),role:$("#rapid_P5_C7").val(),description:$("#rapid_P5_C41_").val()};m=function(){$("#rapid_P0_C81").change();$("#rapid_P0_C74").click()};break;case"DELROLE":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),role:$(k.target).closest("tr").find("td").first().html()};m=function(){$("#rapid_P0_C81").change();$("#rapid_P0_C74").click()};break;case"SAVEROLE":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),role:$("#rapid_P0_C222").find("tr.rowSelect").children().first().html(),description:$("#rapid_P0_C735_").val()};
m=function(){$("#rapid_P0_C81").change();$("#rapid_P0_C74").click()};break;case"NEWUSER":if(j){f={actionType:d,appId:"rapid",version:_appVersion,userName:$("#rapid_P16_C8_").val(),description:$("#rapid_P16_C13_").val(),password:$("#rapid_P16_C17_").val(),useAdmin:$("#rapid_P16_C38_").prop("checked"),useDesign:$("#rapid_P16_C39_").prop("checked")}}else{f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),userName:$("#rapid_P6_C7").val(),description:$("#rapid_P6_C42_").val(),password:$("#rapid_P6_C18").val()};m=function(){Event_change_rapid_P0_C43(k)}}break;case"DELUSER":if(j){f={actionType:d,appId:"rapid",userName:$(k.target).closest("tr").find("td").first().html()};m=function(){$("#rapid_P0_C827_").hide();Action_rapid(k,"rapid","P0",null,"P0_A901_","GETUSERS",true)}}else{f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),userName:$(k.target).closest("tr").find("td").first().html()};m=function(){$("#rapid_P0_C81").change();$("#rapid_P0_C74").click()
}}break;case"NEWUSERROLE":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),userName:$("#rapid_P0_C216").find("tr.rowSelect").children().first().html(),role:$("#rapid_P0_C254").val()};m=function(){Event_click_rapid_P0_C216({target:$("#rapid_P0_C216").find("tr.rowSelect").children().first()[0]})};break;case"DELUSERROLE":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),userName:$("#rapid_P0_C216").find("tr.rowSelect").children().first().html(),role:$(k.target).parent().prev().html()};m=function(){Event_click_rapid_P0_C216({target:$("#rapid_P0_C216").find("tr.rowSelect").children().first()[0]})};break;case"SAVEUSER":if(j){f={actionType:d,appId:"rapid",version:_appVersion,userName:$("#rapid_P0_C823_").find("tr.rowSelect").children().first().html(),description:$("#rapid_P0_C838_").val(),password:$("#rapid_P0_C843_").val(),useAdmin:$("#rapid_P0_C879_").prop("checked"),useDesign:$("#rapid_P0_C880_").prop("checked")}}else{f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),userName:$("#rapid_P0_C216").find("tr.rowSelect").children().first().html(),description:$("#rapid_P0_C717_").val(),password:$("#rapid_P0_C231").val()};
m=function(){$("#rapid_P0_C81").change();$("#rapid_P0_C74").click()}}break;case"NEWPARAM":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val()};break;case"DELPARAM":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$(k.target).closest("tr").index()-1};break;case"SAVEPARAM":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C1108_").find("tr.rowSelect").index()-1,name:$("#rapid_P0_C1134_").val(),value:$("#rapid_P0_C1123_").val()};break;case"NEWDEVICE":f={actionType:d,appId:"rapid",version:_appVersion};break;case"DELDEVICE":f={actionType:d,appId:"rapid",version:_appVersion,index:$(k.target).closest("tr").index()-1};break;case"SAVEDEVICE":f={actionType:d,appId:"rapid",version:_appVersion,index:$("#rapid_P0_C1199_").find("tr.rowSelect").index()-1,name:$("#rapid_P0_C1243_").val(),width:$("#rapid_P0_C1217_").val(),height:$("#rapid_P0_C1248_").val(),ppi:$("#rapid_P0_C1253_").val(),scale:$("#rapid_P0_C1258_").val()};
break;case"TESTDBCONN":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),index:$("#rapid_P0_C311").find("tr.rowSelect").index()-1,driver:$("#rapid_P0_C338").val(),connectionString:$("#rapid_P0_C374").val(),connectionAdapter:$("#rapid_P0_C339").val(),userName:$("#rapid_P0_C340").val(),password:$("#rapid_P0_C341").val()};m=function(p){alert(p.message)};break;case"DELAPPBACKUP":case"RESTOREAPPBACKUP":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),backupId:$("#rapid_P0_C663_").find("tr.rowSelect").children("td").first().text()};m=function(p){$(p.controlId).hideDialogue();Event_change_rapid_P0_C43();$("#rapid_P0_C662_").click()};break;case"DELPAGEBACKUP":case"RESTOREPAGEBACKUP":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),backupId:$("#rapid_P0_C678_").find("tr.rowSelect").children("td").first().text()};m=function(p){$(p.controlId).hideDialogue();Event_change_rapid_P0_C43();$("#rapid_P0_C662_").click()
};break;case"SAVEAPPBACKUPSIZE":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),backupMaxSize:$("#rapid_P0_C685_").val()};break;case"SAVEPAGEBACKUPSIZE":f={actionType:d,appId:$("#rapid_P0_C43").val(),version:$("#rapid_P0_C1044_").val(),backupMaxSize:$("#rapid_P0_C686_").val()};break;default:f={actionType:d,appId:"rapid"}}if(f){f=JSON.stringify(f)}$.ajax({url:"~?a=rapid&p="+e+"&act="+a,type:"POST",dataType:"json",data:f,error:function(r,p,q){if(r&&r.status&&r.status==401){window.location="login.jsp"}else{if(g){g(r,p,q)}else{alert(r.responseText||"Error : "+p)}}},success:function(p){if(m){m(p)}if(b){b(p)}}})}function Action_validation(h,b,l){var a=true;for(var f in b){var d=b[f];var c=$("#"+d.controlId);if(c[0]){if(!c.is(":hidden")||!d.passHidden){var e=null;if(d.validationProperty){e=window["getProperty_"+d.controlType+"_"+d.validationProperty]}else{e=window["getData_"+d.controlType]}if(e){var j=e(h,d.controlId,d.field,d.details);if(d.validationType=="javascript"){var g=new Function(["ev","id","value"],d.javaScript);
var k=g.apply(this,[h,d.controlId,j]);if(k!=null&&k!==false&&k!==undefined){if(l){showControlValidation(d.controlId,k)}a=false}else{if(l){hideControlValidation(d.controlId)}}}else{if((j&&j.match(new RegExp(d.regEx)))||(!j&&d.allowNulls)){if(l){hideControlValidation(d.controlId)}}else{if(l){showControlValidation(d.controlId,d.message)}a=false}}}else{if(l){showControlValidation(d.controlId,d.message)}a=false}}}}return a}function Action_webservice(c,f,d,e){if(d&&e){if(d.sequence>getWebserviceActionMaxSequence(f)){_webserviceActionMaxSequence[f]=d.sequence;for(var b in e){var a=e[b];window["setData_"+a.type](c,a.id,a.field,a.details,d)}}}};