function Action_control(c){for(var a in c){var b=c[a];$("#"+b.id)[b["function"]](b.value)}}function Action_datacopy(c,d){if(c!=null&&c!==undefined&&d){for(var b in d){var a=d[b];window["setData_"+a.type](a.id,c,a.field,a.details)}}}function Action_database(e,c,d){if(c&&d){if(c.sequence>getDatabaseActionMaxSequence(e)){_databaseActionMaxSequence[e]=c.sequence;for(var b in d){var a=d[b];window["setData_"+a.type](a.id,c,a.field,a.details)}}}}function Action_mobile(b,a){alert("Callback for "+b+"."+a)}$(document).ready(function(){$(window).resize(function(a){var c=$(document);var b=$(window);$(".dialogueCover").css({width:c.width(),height:c.height()});$(".dialogue").each(function(){var d=$(this);d.css({left:(b.width()-d.outerWidth())/2,top:(b.height()-d.outerHeight())/3})})})});function Action_navigate(c,a){if(a){var b="<center><h1>Page</h1></center>";$.ajax({url:c,type:"GET",data:null,async:false,error:function(e,d,f){alert("Error loading dialogue : "+e.responseText||f)},success:function(h){if(h){b="";
script="";var f=$(h);for(var g in f){switch(f[g].nodeName){case"#text":case"TITLE":break;case"SCRIPT":if(f[g].innerHTML&&f[g].innerHTML.indexOf("/* designLink */")<0){script+=f[g].outerHTML}break;default:if(f[g].outerHTML){b+=f[g].outerHTML}break}}if(b.indexOf('<input type="submit" value="log in">')>0){window.location="login.jsp?requestPath="+window.location}var e=$("body");var l=e.append("<div class='dialogueCover' style='position:absolute;left:0px;top:0px;z-index:99;'></div>").children().last();var k=$(document);l.css({width:k.width(),height:k.height()}).show();var d=e.append("<div class='dialogue' style='position:absolute;z-index:101;'></div>").children().last();d.hide().html(b);if(script){d.append(script)}var j=$(window);d.css({position:"fixed",left:(j.width()-d.outerWidth())/2,top:(j.height()-d.outerHeight())/3});window.setTimeout(function(){d.show()},200)}}})}else{window.location=c}}function Action_validation(f,b,j){var a=true;for(var d in b){var c=b[d];var g=window["getData_"+c.controlType](f,c.controlId,c.field,c.details);
if(c.validationType=="javascript"){var e=new Function("value",c.javaScript);var h=e.apply(this,[g]);if(h){if(j){showValidationMessage(c.controlId,h)}a=false}else{if(j){hideValidationMessage(c.controlId)}}}else{if((g&&g.match(new RegExp(c.regEx)))||(!g&&c.allowNulls)){if(j){hideValidationMessage(c.controlId)}}else{if(j){showValidationMessage(c.controlId,c.message)}a=false}}}return a}function Action_webservice(e,c,d){if(c&&d){if(c.sequence>getWebserviceActionMaxSequence(e)){_webserviceActionMaxSequence[e]=c.sequence;for(var b in d){var a=d[b];window["setData_"+a.type](a.id,c,a.field,a.details)}}}}function Init_date(b,a){A_TCALCONF.format=a.dateFormat;f_tcalAdd(b)}function Init_gallery(b,a){$("#"+b).children("img").click(function(c){Gallery_removeImage(c,b)})}function Init_hints(f,d){var a=$("body");for(var c in d.controlHints){var b=d.controlHints[c];if(!$("#"+b.controlId+"hint")[0]){var e=b.style;if(e){e=" style='"+e+"'"}else{e=""}a.append("<span class='hint' id='"+b.controlId+"hint'"+e+">"+b.text+"</span>");
$("#"+b.controlId+"hint").hide()}$("#"+b.controlId).mouseout({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").hide()});switch(b.type){case"click":$("#"+b.controlId).click({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").css({left:g.pageX+5,top:g.pageY+5}).show()});break;case"hover":$("#"+b.controlId).mouseover({controlId:b.controlId},function(g){$("#"+g.data.controlId+"hint").css({left:g.pageX+5,top:g.pageY+5}).show()});break}}}function Init_pagePanel(c,b){var a="<center><h1>Page</h1></center>";$.ajax({url:"~?a="+b.appId+"&p="+b.pageId,type:"GET",data:null,error:function(g,d,f){var e="Error loading page : "+f},success:function(f){if(f){a="";script="";var d=$(f);for(var e in d){switch(d[e].nodeName){case"#text":case"TITLE":break;case"SCRIPT":if(d[e].innerHTML){script+=d[e].outerHTML}break;default:if(d[e].outerHTML){a+=d[e].outerHTML}break}}$("#"+c).html(a);if(script){$("#"+c).append(script)}$(window).resize()}}})}function Init_slidePanel(h,b){var a=$("body");
var c=a.find(".slidePanelCover");if(!c[0]){a.append("<div class='slidePanelCover'></div>");c=a.find(".slidePanelCover");var g=$(window);c.css({width:g.width(),height:g.height()})}var d=$("#"+h);var f=d.attr("data-pane");var e=$("#"+f);if(e.is(":visible")){c.show()}else{c.hide()}d.click({width:e.css("width"),left:e.css("margin-left")},function(j){var i=j.data.width;var k=j.data.left;if(e.is(":visible")){e.animate({"margin-left":"-"+i},500,function(){e.hide();d.removeClass("slidePanelOpen");d.addClass("slidePanelClosed");c.hide()})}else{e.css({"margin-left":"-"+i}).show();e.animate({"margin-left":0},500);d.removeClass("slidePanelClosed");d.addClass("slidePanelOpen");c.show()}});c.click({width:e.css("width"),left:e.css("margin-left")},function(j){var i=j.data.width;var k=j.data.left;e.animate({"margin-left":"-"+i},500,function(){e.hide();d.removeClass("slidePanelOpen");d.addClass("slidePanelClosed");c.hide()})})}function Init_tabGroup(b,a){$("#"+b).children("ul").children("li").each(function(){$(this).click(function(e,c){var d=$("#"+b);
d.children("ul").children("li").removeClass("selected");d.children("div").removeClass("selected");var c=$(this).addClass("selected").index()+2;d.children("div:nth-child("+c+")").addClass("selected")})})}function getData_checkbox(b,d,c,a){return $("#"+d).prop("checked")?"true":"false"}function setData_checkbox(f,c,e,b){var d=$("#"+f);if(c!=null&&c!==undefined){c=makeDataObject(c,e);if(c.rows&&c.rows[0]){if(e&&c.fields){for(var a in c.fields){if(c.fields[a].toLowerCase()==e.toLowerCase()){d.prop("checked",c.rows[0][a]);break}}}else{d.prop("checked",c.rows[0][0])}}else{d.prop("checked",false)}}else{d.prop("checked",false)}}function getData_dataStore(e,h,g,c){var a;switch(c.storageType){case"S":a=sessionStorage;break;case"L":a=localStorage;break}if(a){if(c.id){h=c.id}var f=null;var d=a[h];if(d){var f=JSON.parse(d);if(f){if(f.rows&&f.fields){if(f.rows[0]&&g){for(var b in f.fields){if(f.fields[b].toLowerCase()==g.toLowerCase()){return f.rows[0][b]}}}else{return f}}else{if(g&&f[g]){return f[g]
}}}}return f}}function setData_dataStore(e,c,d,b){var a;switch(b.storageType){case"S":a=sessionStorage;break;case"L":a=localStorage;break}if(a){if(b.id){e=b.id}if(c!=null&&c!==undefined){c=makeDataObject(c,d);if(b.merge&&a[e]){c=mergeDataObjects(c,JSON.parse(a[e]))}a[e]=JSON.stringify(c)}else{a[e]=null}}}function getData_date(b,d,c,a){return $("#"+d).val()}function setData_date(h,e,g,c){var f=$("#"+h);var d="";if(e!=null&&e!==undefined){e=makeDataObject(e,g);if(e.rows&&e.rows[0]){if(g&&e.fields){for(var b in e.fields){if(e.fields[b].toLowerCase()==g.toLowerCase()){d=e.rows[0][b];break}}}else{d=e.rows[0][0]}}}if(d){var a=f_tcalParseDate(d,"Y-m-d");if(a){d=f_tcalGenerateDate(a,c.dateFormat)}}f.val(d)}function getData_dropdown(b,d,c,a){return $("#"+d).val()}function setData_dropdown(b,e,g,a){if(e!=null&&e!==undefined){var d=$("#"+b);e=makeDataObject(e,g);if(e.rows&&e.fields){if(g&&e.rows[0]){var l=false;for(var f in e.fields){if(g.toLowerCase()==e.fields[f].toLowerCase()){d.val(e.rows[0][f]);
l=true;break}}if(!l){d.val(e.rows[0][0])}}else{for(var f in e.rows){var m=e.rows[f];var k="";var h="";if(e.fields){for(var c in e.fields){if(e.fields[c].toLowerCase()=="text"){k=e.rows[f][c]}if(e.fields[c].toLowerCase()=="value"){h=e.rows[f][c]}}}if(!k){k=m[0]}if(!h&&m[1]){h=m[1]}if(h||h=="0"){h=" value='"+h+"'"}d.append("<option "+h+">"+k+"</option>")}}}}}function getData_gallery(c,g,f,b){var d={fields:["url"],rows:[]};var e=$("#"+g);var a=e.children();a.each(function(h){d.rows.push([$(this).attr("src")])});return d}function setData_gallery(c,h,m,a){if(h!=null&&h!==undefined){var g=$("#"+c);h=makeDataObject(h,m);if(h.rows){g.find("span").remove();var e=0;if(h.fields){for(var k in h.fields){if(h.fields[k]=="url"||h.fields[k]=="urls"){e=k;break}}}for(var k in h.rows){var l=h.rows[k][e].split(",");for(var f in l){var b=l[f];g.append("<img src='"+b+"'/>");g.find("img").last().click(function(i){Gallery_removeImage(i,c)});var d=window["Event_imageAdded_"+c];if(d){window["Event_imageAdded_"+c]()
}}}}}}function getProperty_gallery_imageCount(b,d,c,a){return($("#"+d).children("img").size())}function getProperty_gallery_urls(c,g,f,b){var e="";var d=$("#"+g);var a=d.children();a.each(function(h){e+=$(this).attr("src");if(h<a.length-1){e+=","}});return e}function getData_grid(c,h,e,b){var d=null;if(b&&b.columns){if(e){var f=$(c.target).closest("tr");var g=f.index()-1;if(g>=0){for(var a in b.columns){if(b.columns[a].field.toLowerCase()==e.toLowerCase()){d=f.children(":nth("+a+")").html();break}}}}else{var d={};d.fields=[];for(var a in b.columns){d.fields.push(b.columns[a].field)}d.rows=[];$("#"+h).find("tr:not(:first)").each(function(j){var k=[];$(this).children().each(function(l){k.push($(this).html())});d.rows.push(k)})}}return d}function setData_grid(d,h,n,a){var g=$("#"+d);g.find("tr:not(:first)").remove();if(h!=null&&h!==undefined){h=makeDataObject(h,n);if(h.rows){if(a&&a.columns&&h.fields){var m=[];for(var k in a.columns){for(var f in h.fields){var p=false;if(a.columns[k].field){if(a.columns[k].field.toLowerCase()==h.fields[f].toLowerCase()){p=true
}}else{if(!h.fields[f]){p=true}}if(p){m.push(f);break}}if(m.length==k){m.push("")}if(a.columns[k].cellFunction&&!a.columns[k].f){a.columns[k].f=new Function(a.columns[k].cellFunction)}}for(var k in h.rows){var o=h.rows[k];var l=g.append("<tr class='rowStyle"+(k%2+1)+"'></tr>").find("tr:last");for(var f in a.columns){var b="";if(!a.columns[f].visible){b+="display:none;"}if(a.columns[f].style){b+=a.columns[f].style}if(b){b=" style='"+b+"'"}var c=l.append("<td"+b+">"+((m[f])?o[m[f]]:"")+"</td>").find("td:last");if(a.columns[f].f){a.columns[f].f.apply(c,[d,h,n,a])}}}}else{for(var k in h.rows){var o=h.rows[k];var e="<tr>";for(var f in o){e+="<td>"+o[f]+"</td>"}e+="</tr>";g.append(e)}}}g.children().last().children("tr:not(:first)").click(function(){var i=$(this);i.parent().find("tr.rowSelect").each(function(){var j=$(this);j.removeClass("rowSelect")});i.addClass("rowSelect")})}}function getProperty_grid_rowCount(b,d,c,a){return($("#"+d).find("tr").size()-1)}function getData_input(b,d,c,a){return $("#"+d).val()
}function setData_input(f,c,e,b){var d=$("#"+f);if(c!=null&&c!==undefined){c=makeDataObject(c,e);if(c.rows&&c.rows[0]){if(e&&c.fields&&c.fields.length>0){for(var a in c.fields){if(c.fields[a].toLowerCase()==e.toLowerCase()){d.val(c.rows[0][a]);break}}}else{if(c.rows[0][0]!=null&&c.rows[0][0]!==undefined){d.val(c.rows[0][0])}else{d.val("")}}}else{d.val("")}}else{d.val("")}}function getData_radiobuttons(b,d,c,a){return $("#"+d).children("input[type=radio]:checked").val()}function setData_radiobuttons(g,e,f,b){if(e!=null&&e!==undefined){var d=$("#"+g);d.children("input[type=radio]").prop("checked",false);e=makeDataObject(e,f);var c=null;if(e.rows&&e.rows[0]){if(f&&e.fields){for(var a in e.fields){if(e.fields[a].toLowerCase()==f.toLowerCase()){c=e.rows[0][a];break}}}else{c=e.rows[0][0]}}if(c){d.children("input[type=radio][value="+c+"]").prop("checked",true)}}}function getData_text(b,d,c,a){return $("#"+d).html()}function setData_text(f,c,e,b){var d=$("#"+f);if(c!=null&&c!==undefined){c=makeDataObject(c,e);
if(c.rows&&c.rows[0]){if(e&&c.fields){for(var a in c.fields){if(c.fields[a].toLowerCase()==e.toLowerCase()){d.html(c.rows[0][a]);break}}}else{d.html(c.rows[0][0])}}else{d.html("")}}else{d.html("")}}function Gallery_removeImage(c,d){var b=$(c.target);if(typeof _rapidmobile!="undefined"){_rapidmobile.removeImage(d,b.attr("src"))}b.remove();var a=window["Event_imageRemoved_"+d];if(a){window["Event_imageRemoved_"+d]()}}function linkClick(b,f){var a=JSON.parse(f);for(var c in a){var d=a[c];if(d.type){var e=window["getData_"+d.type](null,d.itemId,d.field,d.details)}else{var e=$.getUrlVar(d.itemId)}if(e!==undefined){b+="&"+d.name+"="+e}}window.location=b}$(document).ready(function(){$(window).resize(function(b){if(typeof(window.parent._pageIframe)==="undefined"){var d=$(window);$(".slidePanelCover").css({width:d.width(),height:d.height()})}else{var c=window.parent._pageIframe;var a=window.parent._scale;$(".slidePanelCover").css({width:c.width()/a,height:c.height()/a})}})});var _databaseActionSequence=[];
var _databaseActionMaxSequence=[];function getDatabaseActionSequence(b){var a=_databaseActionSequence[b];if(!a){a=0}a++;_databaseActionSequence[b]=a;return a}function getDatabaseActionMaxSequence(b){var a=_databaseActionMaxSequence[b];if(a===undefined){a=0;_databaseActionMaxSequence[b]=a}return a}var _webserviceActionSequence=[];var _webserviceActionMaxSequence=[];function getWebserviceActionSequence(b){var a=_webserviceActionSequence[b];if(!a){a=0}a++;_webserviceActionSequence[b]=a;return a}function getWebserviceActionMaxSequence(b){var a=_webserviceActionMaxSequence[b];if(a===undefined){a=0;_webserviceActionMaxSequence[b]=a}return a};